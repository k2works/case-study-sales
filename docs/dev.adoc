:toc: left
:toclevels: 5
:sectnums:
:stem:
:source-highlighter: coderay

# 開発

## ユースケース

### 認証

[plantuml]
----
@startuml
left to right direction
actor "ユーザー" as member
actor "管理者" as admin
rectangle ユーザー認証 {
  usecase "管理者を認証する" as UC1
  usecase "ユーザーを認証する" as UC2
}
admin --> UC1
member --> UC2
@enduml
----

### ユーザー管理

[plantuml]
----
@startuml
left to right direction
actor "管理者" as admin
rectangle ユーザー管理 {
    usecase "ユーザー一覧を取得する" as UC1
    usecase "ユーザーを新規登録する" as UC2
    usecase "ユーザーを取得する" as UC3
    usecase "登録済みユーザーを更新登録する" as UC4
    usecase "登録済みユーザーを削除する" as UC5
}
admin --> UC1
admin --> UC2
admin --> UC3
admin --> UC4
admin --> UC5
@enduml
----

### マスタ管理

#### 部門

[plantuml]
----
left to right direction
actor "管理者" as admin
rectangle マスタ管理 {
 rectangle 部門 {
    (部門一覧)
    (部門詳細)
    (部門新規作成)
    (部門編集)
    (部門削除)
 }
}
admin --> (部門一覧)
admin --> (部門詳細)
admin --> (部門新規作成)
admin --> (部門編集)
admin --> (部門削除)

@enduml
----

#### 社員

[plantuml]
----
left to right direction
actor "管理者" as admin
rectangle マスタ管理 {
 rectangle 社員 {
    (社員一覧)
    (社員詳細)
    (社員新規作成)
    (社員編集)
    (社員削除)
 }
}
admin --> (社員一覧)
admin --> (社員詳細)
admin --> (社員新規作成)
admin --> (社員編集)
admin --> (社員削除)

@enduml
----

#### 商品

[plantuml]
----
left to right direction
actor "管理者" as admin
rectangle マスタ管理 {
 rectangle 商品 {
    (商品分類一覧)
    (商品分類詳細)
    (商品分類新規作成)
    (商品分類編集)
    (商品分類削除)
    (商品一覧)
    (商品詳細)
    (商品新規作成)
    (商品編集)
    (商品削除)
 }
}
admin --> (商品一覧)
admin --> (商品詳細)
admin --> (商品新規作成)
admin --> (商品編集)
admin --> (商品削除)
admin --> (商品分類一覧)
admin --> (商品分類詳細)
admin --> (商品分類新規作成)
admin --> (商品分類編集)
admin --> (商品分類削除)

@enduml
----

#### 取引先

[plantuml]
----
@startuml
left to right direction
actor "管理者" as admin
rectangle 取引先管理 {
    rectangle 取引先分類 {
       (取引先分類一覧)
       (取引先分類詳細)
       (取引先分類検索)
       (取引先分類登録)
       (取引先分類編集)
       (取引先分類削除)
    }
    rectangle 取引先グループ {
       (グループ一覧)
       (グループ詳細)
       (グループ検索)
       (グループ登録)
       (グループ編集)
       (グループ削除)
    }
    rectangle 取引先 {
         (取引先一覧)
         (取引先詳細)
         (取引先検索)
         (取引先登録)
         (取引先編集)
         (取引先削除)
        rectangle 顧客 {
             (顧客一覧)
             (顧客詳細)
             (顧客検索)
             (顧客登録)
             (顧客編集)
             (顧客削除)

             rectangle 出荷先 {
                    (出荷先一覧)
                    (出荷先登録)
                    (出荷先編集)
                    (出荷先削除)
             }
        }
        rectangle 仕入先 {
             (仕入先一覧)
             (仕入先詳細)
             (仕入先検索)
             (仕入先登録)
             (仕入先編集)
             (仕入先削除)
        }
    }
}

admin --> (取引先分類一覧)
admin --> (取引先分類詳細)
admin --> (取引先分類検索)
admin --> (取引先分類登録)
admin --> (取引先分類編集)
admin --> (取引先分類削除)
admin --> (グループ一覧)
admin --> (グループ詳細)
admin --> (グループ検索)
admin --> (グループ登録)
admin --> (グループ編集)
admin --> (グループ削除)
admin --> (取引先一覧)
admin --> (取引先詳細)
admin --> (取引先検索)
admin --> (取引先登録)
admin --> (取引先編集)
admin --> (取引先削除)
admin --> (顧客一覧)
admin --> (顧客詳細)
admin --> (顧客検索)
admin --> (顧客登録)
admin --> (顧客編集)
admin --> (顧客削除)
admin --> (仕入先一覧)
admin --> (仕入先詳細)
admin --> (仕入先検索)
admin --> (仕入先登録)
admin --> (仕入先編集)
admin --> (仕入先削除)
admin --> (出荷先登録)
admin --> (出荷先編集)
admin --> (出荷先削除)
admin --> (出荷先一覧)

@enduml
----

#### コード

[plantuml]
----
@startuml

left to right direction
actor "管理者" as admin
rectangle 取引先管理 {
        rectangle 地域 {
                (地域一覧)
                (地域詳細)
                (地域検索)
                (地域登録)
                (地域編集)
                (地域削除)
            }
}

admin --> (地域一覧)
admin --> (地域詳細)
admin --> (地域検索)
admin --> (地域登録)
admin --> (地域編集)
admin --> (地域削除)

@enduml
----

### 監査

[plantuml]
----
@startuml
left to right direction
actor "管理者" as admin
actor "ユーザー" as user

rectangle アプリケーション実行履歴 {
   (実行履歴一覧)
   (実行履歴検索)
   (実行履歴詳細)
   (実行履歴削除)
}

admin --> (実行履歴一覧)
admin --> (実行履歴検索)
admin --> (実行履歴詳細)
admin --> (実行履歴削除)
user --> (実行履歴一覧)
user --> (実行履歴検索)
user --> (実行履歴詳細)

@enduml
----

### ダウンロード

[plantuml]
----
@startuml
left to right direction
actor "管理者" as admin
actor "ユーザー" as user
rectangle アプリケーションデータのダウンロード {
   (データダウンロード)
}

admin --> (データダウンロード)
user --> (データダウンロード)

@enduml
----

### 販売

#### 受注

[plantuml]
----
@startuml
left to right direction
actor "管理者" as admin
actor "利用者" as user

rectangle 受注管理 {
    (受注一覧)
    (受注詳細)
    (受注検索)
    (受注登録)
    (受注編集)
    (受注削除)
    (受注ダウンロード)
    (受注アップロード)
    (受注ルール確認)
}

admin --> 受注一覧
admin --> 受注詳細
admin --> 受注検索
admin --> 受注登録
admin --> 受注編集
admin --> 受注削除
admin --> 受注ダウンロード
admin --> 受注アップロード
admin --> 受注ルール確認
user --> 受注一覧
user --> 受注詳細
user --> 受注検索
user --> 受注登録
user --> 受注編集
user --> 受注削除
user --> 受注ダウンロード
user --> 受注アップロード
user --> 受注ルール確認

@enduml
----

#### 出荷/売上

[plantuml]
----
@startuml
left to right direction
actor "利用者" as member
actor "管理者" as admin
rectangle 出荷管理 {
    usecase UC1 as "出荷一覧"
    usecase UC2 as "出荷詳細"
    usecase UC3 as "出荷検索"
    usecase UC5 as "出荷編集"
    usecase UC7 as "出荷指示"
    usecase UC6 as "出荷ルール確認"
}
rectangle 売上管理 {
    usecase UC8 as "売上一覧"
    usecase UC9 as "売上詳細"
    usecase UC10 as "売上検索"
    usecase UC11 as "売上登録"
    usecase UC12 as "売上編集"
    usecase UC13 as "売上削除"
    usecase UC14 as "売上集計"
}
admin --> UC1
admin --> UC2
admin --> UC3
admin --> UC5
admin --> UC6
admin --> UC7
admin --> UC8
admin --> UC9
admin --> UC10
admin --> UC11
admin --> UC12
admin --> UC13
admin --> UC14
member --> UC1
member --> UC2
member --> UC3
member --> UC5
member --> UC6
member --> UC7
member --> UC8
member --> UC9
member --> UC10
member --> UC11
member --> UC12
member --> UC13
member --> UC14
@endum
----

## 仕様

### 認証

[source,yml]
----
include::./assets/system/Auth.feature[]
----

### ユーザー管理

[source,yml]
----
include::./assets/system/User.feature[]
----

### マスタ管理

#### 部門

[source,yml]
----
include::./assets/master/Department.feature[]
----

#### 社員

[source,yml]
----
include::./assets/master/Employee.feature[]
----

#### 商品

[source,yml]
----
include::./assets/master/Product.feature[]
----

#### 取引先

[source,yml]
----
include::./assets/master/PartnerCategory.feature[]
----

[source,yml]
----
include::./assets/master/PartnerGroup.feature[]
----

[source,yml]
----
include::./assets/master/Partner.feature[]
----

[source,yml]
----
include::./assets/master/Customer.feature[]
----

[surce,yml]
----
include::./assets/master/Vendor.feature[]
----

#### コード

[source,yml]
----
include::./assets/master/region.feature[]
----

### 監査

[source,yml]
----
include::./assets/system/Audit.feature[]
----

### ダウンロード

[source,yml]
----
include::./assets/system/Download.feature[]
----

### 販売

#### 受注

[source,yml]
----
include::./assets/sales/order/Order.feature[]
----

[source,yml]
----
include::./assets/sales/order/OrderRule.feature[]
----

[source,yml]
----
include::./assets/sales/order/OrderUpload.feature[]
----

#### 出荷/売上

[source,yml]
----
include::./assets/sales/shipping/Shipping.feature[]
----

[source,yml]
----
include::./assets/sales/shipping/ShippingRule.feature[]
----

[source,yml]
----
include::./assets/sales/sales/Sales.feature[]
----

## アーキテクチャ

### フロントエンド

[plantuml]
----
@startuml
title: App

class Component {}

class Model {}

class View {}

class App {}

class Service {}

App -> Component
Component --> View
View -> Model
Component --> Model
Component -> Service

@enduml
----

### バックエンド

[plantuml]
----
@startuml
title: Api

package "プレゼンテーション層" as UI {
	class Controller
}

package "サービス層" as APP{
	class Service
}

package "インフラストラクチャ層" as IF {
	class DataSource
}

package "ドメイン層" as DOMAIN{
    package "Model" as MODEL {
        class User
        class Auth
    }
}

database データベース as DB {

}

UI ---> APP
Service -> MODEL
APP ---> IF
DataSource --> DB

@endtuml
----

[source,java]
----
include::./assets/ArchitectureRuleTest.java[]
----

## データモデル

image::./images/library-er-summary.svg[]

image::./images/relationships.implied.compact.png[]

## ドメインモデル

### 認証・ユーザー

[plantuml]
----
@startuml
class 認証ユーザー
class ユーザー一覧
class ユーザー
class ユーザーID
class パスワード
class 役割
class 名前

認証ユーザー *- ユーザー
ユーザー一覧 *-- ユーザー
ユーザー *-- ユーザーID
ユーザー *-- パスワード
ユーザー *-- 役割
ユーザー *-- 名前

@enduml
----

### 部門・社員

[plantuml]
----
@startuml
class 部門一覧
class 部門

class 社員一覧
class 社員
class ユーザー

部門一覧 *-- 部門
部門 *-- 社員
社員一覧 *-- 社員
社員 o- ユーザー

@enduml
----

### 商品

[plantuml]
----
@startuml
class 商品分類一覧
class 商品分類
class 商品一覧
class 商品
class 代替商品
class 部品表
class 顧客別販売単価
class 通貨
class 数量

商品分類一覧 *-- 商品分類
商品分類 o- 商品
商品一覧 *-- 商品
商品 o-- 代替商品
商品 o-- 部品表
商品 o- 顧客別販売単価
商品 *-- 通貨
顧客別販売単価 *-- 通貨
部品表 *-- 数量

@enduml
----

### 取引先

[plantuml]
----
@startuml
class 取引先グループ一覧
class 取引先グループ
class 取引先一覧
class 取引先
class 取引先分類種別
class 取引先分類
class 取引先分類所属
class 顧客一覧
class 顧客
class 仕入先一覧
class 仕入先
class 地域一覧
class 地域

取引先グループ一覧 *-- 取引先グループ
取引先グループ o- 取引先
取引先一覧 *-- 取引先
取引先 *-- 顧客
顧客 *-- 出荷先
出荷先一覧 *- 出荷先
取引先 o- 取引先分類所属
取引先分類所属 -* 取引先分類
取引先分類 -* 取引先分類種別
取引先分類一覧 *-- 取引先分類種別
顧客一覧 *- 顧客
取引先 *-- 仕入先
仕入先一覧 *- 仕入先
地域一覧 *-- 地域
出荷先 o- 地域

@enduml
----

### 受注

[plantuml]
----
@startuml
class 受注一覧
class 受注
class 受注明細

受注一覧 *-- 受注
受注 *- 受注明細
受注ルール -> 受注

@enduml
----

### 出荷/売上

[plantuml]
----
@startuml
class 出荷一覧
class 出荷
class 出荷ルール
class 受注
class 受注明細
class 売上一覧
class 売上
class 商品

受注 *-- 受注明細
受注明細 <-- 出荷
出荷一覧 *-- 出荷
出荷ルール -> 出荷
受注明細 *- 商品
売上一覧 *-- 売上
売上 *-- 売上明細
売上明細 *-- 商品
@enduml
----

### 監査

[plantuml]
----

@startuml
class 実行履歴一覧
class 実行履歴
class ユーザー
class 社員

実行履歴一覧 *- 実行履歴
実行履歴 *-- ユーザー
ユーザー o- 社員

@enduml
----



## ユーザーインターフェース

### ビュー

#### 認証

[plantuml]
----
@startsalt
{+
  ログイン画面
  {+
    {
      [  ログイン   ]
      ---------------------
      ユーザーID    | "MyName   "
      パスワード | "****     "
    }
  }
----------------
  ホーム画面
  {+
  {
  ホーム
  ログアウト
  } |
  {
    {
      <b>お知らせ
    }
    ---------------------
    {
        2020/01/01 お知らせ内容
        2020/01/02 お知らせ内容
        2020/01/03 お知らせ内容
    }
  }
  }
}
@endsalt
----

#### ユーザー管理

[plantuml]
----
@startsalt
{+
  ユーザー管理画面（コレクション）
  {+
  {
  ホーム
  ユーザー
  ログアウト
  } |
  {
    {
      <b>ユーザー一覧</b>
    }
    [  新規登録  ]
    ---------------------
    {
      Uxxxxxx | User1    | [  編集  ] | [  削除  ]
      Uxxxxxx | User2    | [  編集  ] | [  削除  ]
      Uxxxxxx | User3    | [  編集  ] | [  削除  ]
    }
  }
  }
  ----------------
    ユーザー管理画面（シングル）
    {+
        {
        [  保存   ]
        ---------------------
        ユーザーID    | "Uxxxxxx"   "
        姓           | "MyName   "
        名           | "MyName   "
        パスワード | "****     "
        役割       | ^Admin     ^^User    ^
        }
    }
}
@endsalt
----

#### マスタ管理

##### 部門

[plantuml]
----
@startsalt
{+
  部門画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>部門一覧</b>
        }

        [  新規登録  ] | [ 一括削除  ]
        ---------------------
        {
          1xxxxxx | 部門1    | [  編集  ] | [  削除  ]
          1xxxxxx | 部門2    | [  編集  ] | [  削除  ]
          1xxxxxx | 部門3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  部門画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        部門コード    | "1xxxxxx"   "
        部門名        | "部門1    "
        開始日        | "2021/01/01"
        終了日        | "9999/12/31"
        最下層区分  | () Yes   () No
      }

     <b>社員一覧</b>
     [  追加  ]
    ---------------------
    {
      EMPxxx | 社員1   | [  削除  ]
      EMPxxx | 社員2   | [  削除  ]
      EMPxxx | 社員3   | [  削除  ]
    }
  }
}
@endsalt
----

##### 社員

[plantuml]
----
@startsalt
{+
  社員一覧選択画面（コレクション）
  {+
    {
      <b>社員一覧</b>
    }
    ---------------------
    {
      EMPxxx | 社員1   | [  選択  ]
      EMPxxx | 社員2   | [  選択  ]
      EMPxxx | 社員3   | [  選択  ]
    }
  }
  ----------------
  社員一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>社員一覧</b>
        }
        [  新規登録  ] | [ 一括削除  ]
        ---------------------
        {
          EMPxxx | 社員1    | [  編集  ] | [  削除  ]
          EMPxxx | 社員2    | [  編集  ] | [  削除  ]
          EMPxxx | 社員3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  社員画面（シングル）
  {+
        {
        [  保存   ] | [ 部門一覧 ] | [ ユーザー一覧 ]
        ---------------------
        社員コード    | "EMPxxx"   "
        姓           | "MyName   "
        名           | "MyName   "
        部門          | "部門1    "
        ユーザー      | "user1    "
        }
  }
  ----------------
  部門一覧選択画面（コレクション）
  {+
      {
        {
          <b>部門一覧</b>
        }
        ---------------------
        {
          1xxxxxx | 部門1    | [  選択  ]
          1xxxxxx | 部門2    | [  選択  ]
          1xxxxxx | 部門3    | [  選択  ]
        }
      }
  }
  ----------------
  ユーザー一覧選択画面（コレクション）
  {+
    {
      <b>ユーザー一覧</b>
    }
    ---------------------
    {
      Uxxxxxx | User1    | [ 選択  ]
      Uxxxxxx | User2    | [ 選択  ]
      Uxxxxxx | User3    | [ 選択  ]
    }
  }
}
@endsalt
----

##### 商品

[plantuml]
----
@startsalt
{+
  商品分類一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>商品分類一覧</b>
        }

        [  新規登録  ] | [ 一括削除  ]
        ---------------------
        {
          1xxxxxx | 商品分類1    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品分類2    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品分類3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  商品分類画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        商品分類コード    | "1xxxxxx"   "
        商品分類名        | "商品分類1    "
      }

      <b>商品一覧</b>
      [ 追加 ]
      ---------------------
      {
        1xxxxxx | 商品1    | [  削除  ]
        1xxxxxx | 商品2    | [  削除  ]
        1xxxxxx | 商品3    | [  削除  ]
      }

  }
  ----------------
  商品一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>商品一覧</b>
        }

        [  新規登録  ] | [ 一括削除  ]
        ---------------------
        {
          1xxxxxx | 商品1    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品2    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品3    | [  編集  ] | [  削除  ]
        }
      }
  }
}
@endsalt
----

[plantuml]
----
@startsalt
{+
  商品一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>商品一覧</b>
        }

        [  新規登録  ] | [ 一括削除  ]
        ---------------------
        {
          1xxxxxx | 商品1    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品2    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  商品画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        商品コード    | "1xxxxxx"   "
        商品名        | "商品1    "
        販売単価      | 1000
        仕入単価      | 1000
        売上原価      | 1000
      }
      {+
        {/ <b>代替商品 | 部品表 | 顧客別販売単価 }
        [ 追加 ]
        {
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
        }
      }
  }
  ----------------
  商品画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        商品コード    | "1xxxxxx"   "
        商品名        | "商品1    "
        販売単価      | 1000
        仕入単価      | 1000
        売上原価      | 1000
      }
      {+
        {/ 代替商品 | <b>部品表 | 顧客別販売単価 }
        [ 追加 ]
        {
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
        }
      }
  }
  ----------------
  商品画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        商品コード    | "1xxxxxx"   "
        商品名        | "商品1    "
        販売単価      | 1000
        仕入単価      | 1000
        売上原価      | 1000
      }
      {+
        {/ 代替商品 | 部品表 | <b>顧客別販売単価 }
        [ 追加 ]
        {
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
            1xxxxxx | 1xxxxxx | 1xxxxxx | [  削除  ]
        }
      }
  }
}
@endsalt
----

##### 取引先

[plantuml]
----
@startsalt
{+
  取引先分類一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>取引先分類一覧</b>
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }

        ---------------------
        {
          1xxxxxx | 分類1    | [  編集  ] | [  削除  ]
          1xxxxxx | 分類2    | [  編集  ] | [  削除  ]
          1xxxxxx | 分類3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  取引先分類画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        分類種別コード    | "1xxxxxx"   "
        分類コード    | "1xxxxxx"   "
        分類所属コード    | "1xxxxxx"   "
      }
      <b>取引先一覧</b>
      [ 追加 ]
      ---------------------
      {
        1xxxxxx | 取引先1    | [  削除  ]
        1xxxxxx | 取引先2    | [  削除  ]
        1xxxxxx | 取引先3    | [  削除  ]
      }
  }
  ----------------
  取引先グループ一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>取引先グループ一覧</b>
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }

        ---------------------
        {
          1xxxxxx | グループ1    | [  編集  ] | [  削除  ]
          1xxxxxx | グループ2    | [  編集  ] | [  削除  ]
          1xxxxxx | グループ3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  取引先グループ画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        グループコード    | "1xxxxxx"   "
      }
      <b>取引先一覧</b>
      [ 追加 ]
      ---------------------
      {
        1xxxxxx | 取引先1    | [  削除  ]
        1xxxxxx | 取引先2    | [  削除  ]
        1xxxxxx | 取引先3    | [  削除  ]
      }
  }
  ----------------
  地域一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>地域一覧</b>
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }

        ---------------------
        {
          1xxxxxx | 地域1    | [  編集  ] | [  削除  ]
          1xxxxxx | 地域2    | [  編集  ] | [  削除  ]
          1xxxxxx | 地域3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  地域画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        地域コード    | "1xxxxxx"   "
        地域名    | "地域1"   "
      }
  }
  ----------------
  取引先一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          {/ <b>取引先 | 顧客 | 仕入先}
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 取引先1    | [  編集  ] | [  削除  ]
          1xxxxxx | 取引先2    | [  編集  ] | [  削除  ]
          1xxxxxx | 取引先3    | [  編集  ] | [  削除  ]
        }
      }
     }
  }
  ----------------
  取引先画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        取引先コード    | "1xxxxxx"   "
        取引先名        | "商品1    "
      }
  }
  ----------------
  顧客一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          {/ 取引先 | <b>顧客 | 仕入先}
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 顧客1    | [  編集  ] | [  削除  ]
          1xxxxxx | 顧客2    | [  編集  ] | [  削除  ]
          1xxxxxx | 顧客3    | [  編集  ] | [  削除  ]
        }
      }
     }
  }
  ----------------
  顧客画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        取引先コード    | "1xxxxxx"   "
        顧客名        | "顧客1    "
      }
      <b>出荷先一覧</b>
      [ 追加 ]
      ---------------------
      {
        1xxxxxx | 出荷先1    | [  削除  ]
        1xxxxxx | 出荷先2    | [  削除  ]
        1xxxxxx | 出荷先3    | [  削除  ]
      }
  }
  ----------------
  仕入先一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          {/ 取引先 | 顧客 | <b>仕入先}
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 仕入先1    | [  編集  ] | [  削除  ]
          1xxxxxx | 仕入先2    | [  編集  ] | [  削除  ]
          1xxxxxx | 仕入先3    | [  編集  ] | [  削除  ]
        }
      }
     }
  }
  ----------------
  仕入先画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        取引先コード    | "1xxxxxx"   "
        仕入先名        | "仕入先1    "
      }
  }
}
@endsalt
----

##### コード

[plantuml]
----
@startsalt
{+
  地域画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {/ <b>地域 }
        [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        ---------------------
        {
          1xxxxxx | 地域1    | [  編集  ] | [  削除  ]
          1xxxxxx | 地域2    | [  編集  ] | [  削除  ]
          1xxxxxx | 地域3    | [  編集  ] | [  削除  ]
        }
      }
  }
  ----------------
  地域画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        地域コード    | "1xxxxxx"   "
        地域名        | "地域1    "
      }
  }
}
@endsalt
----

#### 監査

[plantuml]
----
@startsalt

{+
  実行履歴画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      ログアウト
      } |
      {
        {
          <b>実行履歴一覧</b>
          [ 検索 ]
        }

        [ 一括削除  ]
        ---------------------
        {
          処理1  | user1  | [ 詳細 ] | [ 削除 ]
          処理2  | user1  | [ 詳細 ] | [ 削除 ]
          処理3  | user2  | [ 詳細 ] | [ 削除 ]
        }
      }
  }
  ----------------
  実行履歴画面（シングル）
  {+
      {
        ---------------------
        処理名　    | "1xxxxxx"   "
        開始        | "2021/01/01"
        終了        | "9999/12/31"
        実行者      | "user1    "
        備考        | "          "
      }
  }
  ----------------
  実行履歴検索画面（シングル）
  {+
      {
      [ 検索 ]
        ---------------------
        ^処理名^
        ^区分^
      }
  }
}

@endsalt
----

#### ダウンロード

[plantuml]
----
@startsalt

{+
  ダウンロード画面（シングル）
  {+
      {
        [ 実行 ]
        ---------------------
        ^ダウンロード対象^ 機能 1^ 機能 2^
      }
  }
}

@endsalt
----

#### 販売

##### 受注

[plantuml]
----
@startsalt
{+
  受注一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ <b>一覧 | 一括登録 | ルール}
          [ 検索 ] | [  新規登録  ] | [ 一括削除  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 商品1    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品2    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品3    | [  編集  ] | [  削除  ]
        }
      }
     }
  }
  ----------------
  受注画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        受注番号    | "1xxxxxx"   "
        商品名        | "商品1    "
      }
      <b>明細</b>
      [ 追加 ]
      ---------------------
      {
        1xxxxxx | 枝番1    | [  削除  ]
        1xxxxxx | 枝番2    | [  削除  ]
        1xxxxxx | 枝番3    | [  削除  ]
      }
  }
  ----------------
  受注一括登録画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ 一覧 | <b>一括登録 | ルール}
          [ アップロード ]
        }
      {+
        ---------------------
        {
          エラーメッセージ | [削除]
          エラーメッセージ | [削除]
          エラーメッセージ | [削除]
        }
      }
     }
  }
  ----------------
  アップロード画面（シングル）
  {+
      {
        ファイル名:  | { "sales_order.csv" | [選択] }
        [  アップロード  ] | [  キャンセル  ]
      }
  }
  ----------------
  受注ルール一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ 一覧 | 一括登録 | <b>ルール}
          [ 確認 ]
        }
      {+
        ---------------------
        {
          受注ルール | [削除]
          受注ルール | [削除]
          受注ルール | [削除]
        }
      }
     }
  }
}
@endsalt
----

##### 出荷/売上

[plantuml]
----
@startsalt
{+
  出荷一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ <b>一覧 | ルール | 出荷指示 | 出荷確認 }
          [ 検索 ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 商品1    | [  編集  ]
          1xxxxxx | 商品2    | [  編集  ]
          1xxxxxx | 商品3    | [  編集  ]
        }
      }
     }
  }
  ----------------
  出荷画面（シングル）
  {+
      {
        [  保存   ]
        ---------------------
        受注番号    | "1xxxxxx"   "
        商品名        | "商品1    "
        数量        | "1"
        出荷指示数  | "1"
        出荷済数    | "0"
      }
  }
  ----------------
  出荷ルール画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ 一覧 | <b>ルール | 出荷指示 | 出荷確認 }
          [ 確認 ]
        }
      {+
        ---------------------
        {
          出荷ルール | [削除]
          出荷ルール | [削除]
          出荷ール | [削除]
        }
      }
     }
  }
  ----------------
  出荷指示画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ 一覧 | ルール | <b>出荷指示 | 出荷確認 }
          [ 検索 ] | [  出荷指示  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 商品1    | 1 | 0 | 0
          1xxxxxx | 商品2    | 2 | 1 | 0
          1xxxxxx | 商品3    | 3 | 2 | 0
        }
      }
     }
  }
  ----------------
  出荷確認画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ 一覧 | ルール | 出荷指示 | <b>出荷確認 }
          [ 検索 ] | [  出荷確認  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 商品1    | 1 | 0 | 0
          1xxxxxx | 商品2    | 2 | 1 | 1
          1xxxxxx | 商品3    | 3 | 2 | 2
        }
      }
     }
  }
  ----------------
  売上一覧画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ <b>一覧 | 売上集計 }
          [ 検索 ] | [  新規登録  ]
        }
      {+
        ---------------------
        {
          1xxxxxx | 商品1    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品2    | [  編集  ] | [  削除  ]
          1xxxxxx | 商品3    | [  編集  ] | [  削除  ]
        }
      }
     }
  }
    ----------------
    売上画面（シングル）
    {+
        [保存]
        ---------------------
        {
          売上番号    | "1xxxxxx"   "
          商品名        | "商品1    "
          数量        | "1"
          売上金額    | "1000"
        }
    }
    ----------------
  売上集計画面（コレクション）
  {+
     {
      ホーム
      ユーザー
      マスタ
      受注
      ログアウト
      } |
      {
        {
          {/ 一覧 | <b>売上集計 }
          [ 集計 ]
        }
      {+
      }
     }
  }
}
@endsalt
----


### モデル

#### 認証

[plantuml]
----
@startuml
  class ログイン {
    ユーザーID
    パスワード
    ログイン()
  }

  class ホーム {
    お知らせ
  }

  class ナビゲーション {
    ホーム()
    ログアウト()
  }

  ナビゲーション -* ホーム
@enduml
----

#### ユーザー管理

[plantuml]
----
@startuml
  class ユーザー一覧 {
    新規作成()
    編集()
    削除()
  }

  class ユーザー {
    ユーザーID
    パスワード
    役割
    姓
    名
    保存()
  }

  class ナビゲーション {
    ホーム()
    ユーザー()
    ログアウト()
  }

  ユーザー一覧 *-- ユーザー
  ナビゲーション -* ユーザー一覧
@enduml
----

#### マスタ管理

##### 部門

[plantuml]
----
@startuml
  class 部門一覧 {
    新規作成()
    編集()
    削除()
    一括削除()
  }

  class 部門 {
    保存()
    追加()
    削除()
  }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  class 部門検索 {
    検索()
  }

  ナビゲーション -* 部門一覧
  部門一覧 *-- 部門
  部門一覧 *- 部門検索
  部門 *-- 社員一覧選択

@enduml
----

##### 社員

[plantuml]
----
@startuml
  class 社員一覧 {
    新規作成()
    編集()
    削除()
    一括削除()
  }

  class 社員 {
    保存()
    追加()
  }

  class 部門一覧選択 {
    選択()
  }

  class ユーザー一覧選択 {
    選択()
  }

  class 社員検索 {
    検索()
  }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  ナビゲーション -* 社員一覧
  社員一覧 *-- 社員
  社員一覧 *- 社員検索
  社員 *-- ユーザー一覧選択
  社員 *-- 部門一覧選択

@enduml
----

##### 商品

[plantuml]
----
@startuml
  class 商品分類一覧 {
    新規作成()
    編集()
    削除()
    一括削除()
  }

  class 商品分類 {
    保存()
    追加()
    削除()
  }

  class 商品分類検索 {
    選択()
  }

  class 商品一覧選択 {
    選択()
  }

  class 商品一覧 {
    新規作成()
    編集()
    削除()
    一括削除()
  }

  class 商品 {
    保存()
  }

  class 代替商品 {
    追加()
    削除()
  }

  class 部品表 {
    追加()
    削除()
  }

  class 顧客別販売単価 {
    追加()
    削除()
  }

  class 商品検索 {
    選択()
  }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  ナビゲーション -* 商品分類一覧
  商品分類一覧 *-- 商品分類
  商品分類一覧 *- 商品分類検索
  商品分類 o-- 商品一覧選択
  商品一覧 *- ナビゲーション
  商品一覧 *-- 商品
  商品検索 *- 商品一覧
  商品 o-- 代替商品
  商品 o-- 部品表
  商品 o-- 顧客別販売単価

@enduml
----

##### 取引先

[plantuml]
----
@startuml
    class 取引先分類一覧 {
        検索()
        一括削除()
        詳細()
        削除()
    }
    class 取引先分類 {
        保存()
        追加()
    }
    class 取引先グループ一覧 {
      検索()
      一括削除()
      詳細()
      削除()
    }
    class 取引先グループ {
      保存()
      追加()
    }
    class 地域一覧 {
        検索()
        一括削除()
        詳細()
        削除()
    }
    class 地域 {
        保存()
    }
    class 取引先一覧 {
        検索()
        一括削除()
        詳細()
        削除()
    }
    class 取引先 {
      保存()
    }
    class 顧客一覧 {
        検索()
        一括削除()
        詳細()
        削除()
    }
    class 顧客 {
      保存()
      追加()
    }
    class 出荷先一覧 {
       削除()
    }
    class 仕入先一覧 {
        検索()
        一括削除()
        詳細()
        削除()
    }
    class 仕入先 {
      保存()
    }
    class 取引先一覧選択 {
    }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  ナビゲーション --* 取引先分類一覧
  取引先分類一覧 *-- 取引先分類
  取引先分類 *-- 取引先一覧選択
  ナビゲーション --* 取引先グループ一覧
  取引先グループ一覧 *-- 取引先グループ
  取引先グループ *-- 取引先一覧選択
  ナビゲーション --* 地域一覧
  地域一覧 *-- 地域
  ナビゲーション --* 取引先一覧
  取引先一覧 *-- 取引先
  ナビゲーション --* 顧客一覧
  顧客一覧 *-- 顧客
  顧客 *-- 出荷先一覧
  ナビゲーション --* 仕入先一覧
  仕入先一覧 *-- 仕入先
@enduml
----

##### コード

[plantuml]
----
@startuml
  class 地域一覧 {
    検索()
    一括削除()
    詳細()
    削除()
  }

  class 地域 {
    保存()
  }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  ナビゲーション -* 地域一覧
  地域一覧 *-- 地域
@enduml
----

#### 監査

[plantuml]
----
@startuml
  class 実行履歴一覧 {
    検索()
    一括削除()
    詳細()
    削除()
  }

  class 実行履歴 {
  }

  class 実行履歴検索 {
    検索()
  }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  ナビゲーション -* 実行履歴一覧
  実行履歴一覧 *-- 実行履歴
  実行履歴一覧 *- 実行履歴検索
@enduml
----

#### ダウンロード

[plantuml]
----
@startuml
  class ダウンロード {
    実行()
  }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    ログアウト()
  }

  ナビゲーション *- ダウンロード
@enduml
----

#### 販売

##### 受注

[plantuml]
----
@startuml
    class 受注一覧 {
        検索()
        一括削除()
        詳細()
        削除()
    }
    class 受注 {
      登録()
    }
    class 受注一括登録 {
      アップロード()
      削除()
    }
    class アップロード {
        アップロード()
        キャンセル()
    }
    class 受注ルール一覧 {
      確認()
      削除()
    }

  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    受注()
    ログアウト()
  }

  ナビゲーション --* 受注一覧
  ナビゲーション --* 受注一括登録
  ナビゲーション --* 受注ルール一覧
  受注一覧 *-- 受注
  受注一括登録 *-- アップロード
@enduml
----

##### 出荷/売上

[plantuml]
----
@startuml
    class 出荷一覧 {
        検索()
        編集()
    }
    class 出荷 {
        保存()
    }
    class 出荷指示 {
        検索()
        出荷指示()
    }
    class 出荷確認 {
        検索()
        出荷確認()
    }
    class 出荷ルール {
        削除()
    }
    class 売上一覧 {
        検索()
        新規登録()
        編集()
        削除()
    }
    class 売上 {
        保存()
    }
    class 売上集計 {
        集計()
    }
  class ナビゲーション {
    ホーム()
    マスタ()
    ユーザー()
    出荷()
    売上()
    ログアウト()
  }

    ナビゲーション --* 出荷一覧
    出荷一覧 *-- 出荷
    ナビゲーション --* 出荷ルール
    ナビゲーション --* 出荷指示
    出荷指示 *-- 出荷
    ナビゲーション --* 出荷確認
    出荷確認 *-- 出荷
    ナビゲーション --* 売上一覧
    売上一覧 *-- 売上
    ナビゲーション --* 売上集計
@enduml
----

### インタラクション

#### 認証

[plantuml]
----
@startuml
  ログイン_シングル --> ホーム_シングル
  ホーム_シングル --> ログイン_シングル
@enduml
----

#### ユーザー管理

[plantuml]
----
@startuml
  ログイン_シングル --> ユーザー_コレクション
    ユーザー_コレクション --> ユーザー_シングル
    ユーザー_シングル --> ユーザー_コレクション
  ログイン_シングル <-- ユーザー_コレクション
@enduml
----

#### マスタ管理

##### 部門

[plantuml]
----
@startuml

  ログイン_シングル --> ナビゲーション_シングル
    ナビゲーション_シングル --> 部門_コレクション
    部門_コレクション --> 部門_シングル
    部門_シングル --> 部門_コレクション
    部門_シングル --> 社員一覧選択_コレクション
    社員一覧選択_コレクション --> 部門_シングル
  ログイン_シングル <-- ナビゲーション_シングル

@endum
----

##### 社員

[plantuml]
----
@startuml

  ログイン_シングル --> ナビゲーション_シングル
    ナビゲーション_シングル --> 社員_コレクション
    社員_コレクション --> 社員_シングル
    社員_シングル --> 社員_コレクション
    社員_シングル --> 部門一覧選択_コレクション
    部門一覧選択_コレクション --> 社員_シングル
    社員_シングル --> ユーザー一覧選択_コレクション
    ユーザー一覧選択_コレクション --> 社員_シングル
  ログイン_シングル <-- ナビゲーション_シングル

@endum
----

##### 商品

[plantuml]
----
@startuml

  ログイン_シングル --> ナビゲーション_シングル
    ナビゲーション_シングル --> 商品_コレクション
    商品_コレクション --> 商品_シングル
    商品_シングル --> 商品_コレクション
    商品_シングル --> 代替商品_コレクション
    代替商品_コレクション --> 商品_シングル
    商品_シングル --> 部品表_コレクション
    部品表_コレクション --> 商品_シングル
    商品_シングル --> 顧客別販売単価_コレクション
    顧客別販売単価_コレクション --> 商品_シングル
  ログイン_シングル <-- ナビゲーション_シングル

@endum
----

##### 取引先

[plantuml]
----
@startuml
  ログイン_シングル --> 取引先分類_コレクション
    取引先分類_コレクション --> 取引先分類_シングル
    取引先分類_シングル --> 取引先分類_コレクション
  ログイン_シングル <-- 取引先分類_コレクション

  ログイン_シングル --> 取引先グループ_コレクション
    取引先グループ_コレクション --> 取引先グループ_シングル
    取引先グループ_シングル --> 取引先グループ_コレクション
  ログイン_シングル <-- 取引先グループ_コレクション

  ログイン_シングル --> 取引先_コレクション
    取引先_コレクション --> 取引先_シングル
    取引先_シングル --> 取引先_コレクション
  ログイン_シングル <-- 取引先_コレクション

  ログイン_シングル --> 顧客_コレクション
    顧客_コレクション --> 顧客_シングル
    顧客_シングル --> 顧客_コレクション
  ログイン_シングル <-- 顧客_コレクション

  ログイン_シングル --> 仕入先_コレクション
    仕入先_コレクション --> 仕入先_シングル
    仕入先_シングル --> 仕入先_コレクション
  ログイン_シングル <-- 仕入先_コレクション
@enduml
----

##### コード

[plantuml]
----
@startuml
  ログイン_シングル --> 地域_コレクション
    地域_コレクション --> 地域_シングル
    地域_シングル --> 地域_コレクション
  ログイン_シングル <-- 地域_コレクション
@enduml
----

#### 監査

[plantuml]
----
@startuml
  ログイン_シングル --> 実行履歴_コレクション
    実行履歴_コレクション --> 実行履歴_シングル
    実行履歴_シングル --> 実行履歴_コレクション
    実行履歴_コレクション --> 実行履歴検索_シングル
    実行履歴検索_シングル --> 実行履歴_コレクション
  ログイン_シングル <-- 実行履歴_コレクション
@enduml
----

#### ダウンロード

[plantuml]
----
@startuml
  ログイン_シングル --> ダウンロード_シングル
    ダウンロード_シングル --> ログイン_シングル
  ログイン_シングル <-- ダウンロード_シングル
@enduml
----

#### 販売

##### 受注

[plantuml]
----
@startuml
  ログイン_シングル --> 受注_コレクション
    受注_コレクション --> 受注_シングル
    受注_シングル --> 受注_コレクション
    受注_コレクション --> 受注一括登録_コレクション
    受注一括登録_コレクション --> アップロード_シングル
    アップロード_シングル --> 受注一括登録_コレクション
    受注_コレクション --> 受注ルール_コレクション
  ログイン_シングル <-- 受注_コレクション

@enduml
----

##### 出荷/売上

[plantuml]
----
@startuml
    ログイン_シングル --> 出荷一覧_コレクション
    出荷一覧_コレクション --> 出荷_シングル
    出荷_シングル --> 出荷一覧_コレクション
    ログイン_シングル --> 出荷指示_コレクション
    出荷指示_コレクション --> 出荷ルール_シングル
    出荷ルール_シングル --> 出荷指示_コレクション
    ログイン_シングル --> 出荷確認_コレクション
    出荷確認_コレクション --> 出荷_シングル
    出荷_シングル --> 出荷確認_コレクション
    ログイン_シングル --> 売上一覧_コレクション
    売上一覧_コレクション --> 売上_シングル
    売上_シングル --> 売上一覧_コレクション
    ログイン_シングル --> 売上集計_コレクション
@enduml
----

